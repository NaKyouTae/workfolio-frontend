syntax = "proto3";

import "common.proto";

package com.spectrum.workfolio.proto;

option java_multiple_files = true;
option java_package = "com.spectrum.workfolio.proto.resume";
option java_outer_classname = "ResumeProto";

message ResumeCreateRequest {
  string title = 1;
}

message ResumeUpdateRequest {
  message CareerRequest {
    message Career {
      enum EmploymentType {
        FULL_TIME = 0;
        CONTRACT = 1;
        INTERN = 2;
        FREELANCER = 3;
      }

      optional string id = 1;
      string name = 2;
      optional uint64 started_at = 3;
      optional uint64 ended_at = 4;
      optional bool is_working = 5;
      string position = 6;
      optional EmploymentType employmentType = 7;
      string department = 8;
      string job_grade = 9;
      string job = 10;
      uint32 salary = 11;
      string description = 12;

      bool is_visible = 30;
      uint32 priority = 31;
    }

    message Salary {
      optional string id = 1;
      uint64 amount = 2;
      string memo = 3;
      optional uint64 negotiation_date = 4;

      bool is_visible = 30;
      uint32 priority = 31;
    }

    CareerRequest.Career career = 1;
    repeated CareerRequest.Salary salaries = 3;
  }

  message EducationRequest {
    optional string id = 1;
    string major = 2;
    string name = 3;
    string description = 4;
    optional Education.EducationStatus status = 5;
    optional uint64 started_at = 6;
    optional uint64 ended_at = 7;

    bool is_visible = 30;
    uint32 priority = 31;
  }

  message ActivityRequest {
    optional string id = 1;
    optional Activity.ActivityType type = 2;
    string name = 3;
    string organization = 4;
    string certificate_number = 5;
    optional uint64 started_at = 6;
    optional uint64 ended_at = 7;
    string description = 8;

    bool is_visible = 30;
    uint32 priority = 31;
  }

  message LanguageSkillRequest {
    message LanguageTestRequest {
      optional string id = 1;
      string name = 2;
      string score = 3;
      optional uint64 acquired_at = 4;

      bool is_visible = 30;
      uint32 priority = 31;
    }

    optional string id = 1;
    optional LanguageSkill.Language language = 2;
    optional LanguageSkill.LanguageLevel level = 3;

    bool is_visible = 30;
    uint32 priority = 31;

    repeated LanguageTestRequest language_tests = 99;
  }

  message AttachmentRequest {
    optional string id = 1;
    optional Attachment.AttachmentType type = 2;
    string file_name = 3;
    string file_url = 4;

    bool is_visible = 30;
    uint32 priority = 31;
  }

  message ProjectRequest {
    optional string id = 1;
    string title = 2;
    string affiliation = 3;
    string role = 4;
    string description = 5;
    optional uint64 started_at = 6;
    optional uint64 ended_at = 7;

    bool is_visible = 30;
    uint32 priority = 31;
  }

  string id = 1;
  string title = 2;
  string name = 3;
  string phone = 4;
  string email = 5;
  optional uint64 birth_date = 6;
  optional Resume.Gender gender = 7;
  string job = 8;
  optional bool is_public = 9;
  optional bool is_default = 10;
  string public_id = 11;
  string description = 12;

  repeated CareerRequest careers = 51;
  repeated ProjectRequest projects = 52;
  repeated EducationRequest educations = 53;
  repeated ActivityRequest activities = 54;
  repeated LanguageSkillRequest languages = 55;
  repeated AttachmentRequest attachments = 56;
}

message ResumeListResponse {
  repeated Resume resumes = 1;
}

message ResumeDetailListResponse {
  repeated ResumeDetail resumes = 1;
}

message ResumeResponse {
  Resume resume = 1;
}