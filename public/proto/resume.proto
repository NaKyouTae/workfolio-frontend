syntax = "proto3";

import "common.proto";

package com.spectrum.workfolio.proto;

option java_multiple_files = true;
option java_package = "com.spectrum.workfolio.proto.resume";
option java_outer_classname = "ResumeProto";

message ResumeCreateRequest {
  string title = 1;
}

message ResumeUpdateRequest {
  message DegreesRequest {
    optional string id = 1;
    string name = 2;
    string major = 3;
    uint64 started_at = 4;
    uint64 ended_at = 5;
    bool is_visible = 6;
    Degrees.DegreesStatus status = 7;
  }

  message CareerRequest {
    message Career {
      enum EmploymentType {
        UNKNOWN = 0;
        FULL_TIME = 1;
        CONTRACT = 2;
        INTERN = 3;
        FREELANCER = 4;
      }

      optional string id = 1;
      string name = 2;
      uint64 started_at = 3;
      uint64 ended_at = 4;
      bool is_working = 5;
      string position = 6;
      EmploymentType employmentType = 7;
      string department = 8;
      string job_grade = 9;
      string job = 10;
      uint32 salary = 11;

      bool is_visible = 30;
    }

    message Project {
      optional string id = 1;
      string title = 2;
      string description = 3;
      bool is_visible = 4;
      uint64 started_at = 5;
      optional uint64 ended_at = 6;
    }

    message Salary {
      optional string id = 1;
      uint64 amount = 2;
      optional uint64 negotiation_date = 3;
      optional string memo = 4;
      bool is_visible = 5;
    }

    CareerRequest.Career career = 1;
    repeated CareerRequest.Project projects = 2;
    repeated CareerRequest.Salary salaries = 3;
  }

  message CertificationsRequest {
    optional string id = 1;
    string name = 2;
    string number = 3;
    string issuer = 4;
    uint64 issued_at = 5;
    uint64 expiration_period = 6;
    bool is_visible = 7;
  }

  message EducationRequest {
    optional string id = 1;
    string name = 2;
    uint64 started_at = 3;
    uint64 ended_at = 4;
    string agency = 5;
    bool is_visible = 6;
  }

  message LinkRequest {
    optional string id = 1;
    string url = 2;
    bool is_visible = 3;
  }

  string id = 1;
  string title = 2;
  string description = 3;
  string phone = 4;
  string email = 5;
  uint64 birth_date = 6;
  Resume.Gender gender = 7;
  bool is_public = 8;
  bool is_default = 9;
  repeated DegreesRequest degrees = 50;
  repeated CareerRequest careers = 51;
  repeated CertificationsRequest certifications = 52;
  repeated EducationRequest educations = 53;
  repeated LinkRequest links = 54;
}

message ResumeListResponse {
  repeated Resume resumes = 1;
}

message ResumeDetailListResponse {
  repeated ResumeDetail resumes = 1;
}

message ResumeResponse {
  Resume resume = 1;
}